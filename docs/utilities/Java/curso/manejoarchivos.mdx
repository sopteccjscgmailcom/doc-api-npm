# ğŸ“‚ Manejo de Archivos y Excepciones

Java nos permite leer y escribir archivos, pero estos procesos pueden generar errores. Por eso, es importante manejar **excepciones** para evitar fallos inesperados.  

---

## **ğŸ”¹Excepciones en Java**  
ğŸ“Œ **Una excepciÃ³n** es un error que ocurre en tiempo de ejecuciÃ³n y puede detener el programa si no se maneja.  

### **ğŸ“Œ Manejo de Excepciones con `try-catch`**  
ğŸ”¹ **Ejemplo:** Evitar que un programa se cierre si ocurre un error.  

```java
public class ManejoExcepciones {
    public static void main(String[] args) {
        try {
            int resultado = 10 / 0; // Error: DivisiÃ³n por cero
            System.out.println("Resultado: " + resultado);
        } catch (ArithmeticException e) {
            System.out.println("Error: No se puede dividir entre cero.");
        }
    }
}
```

ğŸ“Œ **Notas:**  
âœ… `try` â†’ Bloque de cÃ³digo donde puede ocurrir un error.  
âœ… `catch` â†’ Captura y maneja el error.  
âœ… `e.getMessage()` â†’ Muestra el mensaje del error.  

### **ğŸ“Œ `finally`: CÃ³digo que siempre se ejecuta**  
```java
try {
    int[] numeros = {1, 2, 3};
    System.out.println(numeros[5]); // Error: Ãndice fuera de rango
} catch (ArrayIndexOutOfBoundsException e) {
    System.out.println("Error: Ãndice fuera del lÃ­mite del array.");
} finally {
    System.out.println("Este mensaje siempre se ejecuta.");
}
```

ğŸ“Œ **El bloque `finally` siempre se ejecuta**, haya o no error.  

---

## **ğŸ“‚Lectura y Escritura de Archivos**  
ğŸ“Œ Para manipular archivos usamos la clase `File`.  

### **ğŸ“Œ Crear y Escribir un Archivo**  
```java
import java.io.FileWriter;
import java.io.IOException;

public class EscribirArchivo {
    public static void main(String[] args) {
        try {
            FileWriter escritor = new FileWriter("archivo.txt");
            escritor.write("Hola, esto es un archivo en Java.");
            escritor.close();
            System.out.println("Archivo creado y escrito con Ã©xito.");
        } catch (IOException e) {
            System.out.println("OcurriÃ³ un error al escribir el archivo.");
        }
    }
}
```

ğŸ“Œ **Notas:**  
âœ… `FileWriter` â†’ Permite escribir en un archivo.  
âœ… `write(texto)` â†’ Escribe en el archivo.  
âœ… `close()` â†’ Cierra el archivo despuÃ©s de escribir.  

---

### **ğŸ“Œ Leer un Archivo**  
```java
import java.io.File;
import java.io.FileNotFoundException;
import java.util.Scanner;

public class LeerArchivo {
    public static void main(String[] args) {
        try {
            File archivo = new File("archivo.txt");
            Scanner lector = new Scanner(archivo);

            while (lector.hasNextLine()) {
                String linea = lector.nextLine();
                System.out.println(linea);
            }

            lector.close();
        } catch (FileNotFoundException e) {
            System.out.println("No se encontrÃ³ el archivo.");
        }
    }
}
```

ğŸ“Œ **Notas:**  
âœ… `File` â†’ Representa un archivo en el sistema.  
âœ… `Scanner` â†’ Permite leer el archivo lÃ­nea por lÃ­nea.  

---

### ğŸš€ **Profundizando en Manejo de Archivos en Java**  

Java nos permite manipular archivos de varias formas: **lectura, escritura, modificaciÃ³n y eliminaciÃ³n**. Vamos a ver mÃ¡s detalles y tÃ©cnicas avanzadas.  

---

## **ğŸ”¹ 1. Comprobar si un Archivo Existe**  
ğŸ“Œ Antes de leer o escribir en un archivo, podemos verificar si existe para evitar errores.  

```java
import java.io.File;

public class ComprobarArchivo {
    public static void main(String[] args) {
        File archivo = new File("archivo.txt");

        if (archivo.exists()) {
            System.out.println("El archivo existe.");
        } else {
            System.out.println("El archivo no existe.");
        }
    }
}
```

ğŸ“Œ **Notas:**  
âœ… `exists()` â†’ Verifica si el archivo existe.  
âœ… `isFile()` â†’ Comprueba si es un archivo (y no una carpeta).  

---

## **ğŸ”¹ 2. Agregar Texto a un Archivo sin Sobrescribirlo**  
ğŸ“Œ `FileWriter` en modo "append" (`true`) permite aÃ±adir texto sin borrar el contenido existente.  

```java
import java.io.FileWriter;
import java.io.IOException;

public class AgregarTexto {
    public static void main(String[] args) {
        try {
            FileWriter escritor = new FileWriter("archivo.txt", true); // true = no sobrescribe
            escritor.write("\nEste es un nuevo texto agregado.");
            escritor.close();
            System.out.println("Texto agregado correctamente.");
        } catch (IOException e) {
            System.out.println("Error al agregar texto.");
        }
    }
}
```

ğŸ“Œ **Notas:**  
âœ… `new FileWriter("archivo.txt", true)` â†’ Permite agregar texto sin borrar el contenido anterior.  

---

## **ğŸ”¹ 3. Obtener InformaciÃ³n del Archivo**  
ğŸ“Œ Podemos obtener el nombre, ruta, tamaÃ±o y permisos de un archivo.  

```java
import java.io.File;

public class InfoArchivo {
    public static void main(String[] args) {
        File archivo = new File("archivo.txt");

        if (archivo.exists()) {
            System.out.println("Nombre: " + archivo.getName());
            System.out.println("Ruta absoluta: " + archivo.getAbsolutePath());
            System.out.println("TamaÃ±o: " + archivo.length() + " bytes");
            System.out.println("Â¿Es legible?: " + archivo.canRead());
            System.out.println("Â¿Es editable?: " + archivo.canWrite());
        } else {
            System.out.println("El archivo no existe.");
        }
    }
}
```

ğŸ“Œ **Notas:**  
âœ… `getName()` â†’ Obtiene el nombre del archivo.  
âœ… `getAbsolutePath()` â†’ Obtiene la ruta completa.  
âœ… `length()` â†’ Devuelve el tamaÃ±o en bytes.  
âœ… `canRead()` y `canWrite()` â†’ Verifica permisos.  

---

## **ğŸ”¹ 4. Eliminar un Archivo**  
ğŸ“Œ `delete()` permite eliminar un archivo si existe.  

```java
import java.io.File;

public class EliminarArchivo {
    public static void main(String[] args) {
        File archivo = new File("archivo.txt");

        if (archivo.delete()) {
            System.out.println("Archivo eliminado.");
        } else {
            System.out.println("No se pudo eliminar.");
        }
    }
}
```

ğŸ“Œ **Notas:**  
âœ… `delete()` â†’ Borra el archivo si existe.  

---

## **ğŸ”¹ 5. Leer Archivos con `BufferedReader` (Eficiente para Archivos Grandes)**  
ğŸ“Œ `BufferedReader` permite leer archivos lÃ­nea por lÃ­nea de manera mÃ¡s eficiente que `Scanner`.  

```java
import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

public class LeerConBuffer {
    public static void main(String[] args) {
        try (BufferedReader lector = new BufferedReader(new FileReader("archivo.txt"))) {
            String linea;
            while ((linea = lector.readLine()) != null) {
                System.out.println(linea);
            }
        } catch (IOException e) {
            System.out.println("Error al leer el archivo.");
        }
    }
}
```

ğŸ“Œ **Notas:**  
âœ… `BufferedReader` â†’ MÃ¡s rÃ¡pido para archivos grandes.  
âœ… `readLine()` â†’ Lee lÃ­nea por lÃ­nea hasta `null`.  
âœ… `try-with-resources` â†’ Cierra el archivo automÃ¡ticamente.  

---

ğŸ“Œ **Â¿Quieres mÃ¡s ejemplos o pasamos a programaciÃ³n orientada a objetos (POO)?** ğŸ˜Š